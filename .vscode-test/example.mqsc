* Enable and start a TCP/IP listener on port 1414
ALTER LISTENER('SYSTEM.DEFAULT.LISTENER.TCP') TRPTYPE(TCP) PORT(1414) CONTROL(QMGR)
START LISTENER('SYSTEM.DEFAULT.LISTENER.TCP')

* Define simple password-based security
SET CHLAUTH('*') TYPE(ADDRESSMAP) ADDRESS('*') USERSRC(NOACCESS) DESCR('BackStop rule')
SET CHLAUTH(PASSWORD.SVRCONN) TYPE(ADDRESSMAP) ADDRESS('*') USERSRC(CHANNEL) CHCKCLNT(REQUIRED)
ALTER AUTHINFO(SYSTEM.DEFAULT.AUTHINFO.IDPWOS) AUTHTYPE(IDPWOS) ADOPTCTX(YES)
REFRESH SECURITY TYPE(CONNAUTH)

* Define a queue for testing
DEFINE QLOCAL(Q1) DEFPSIST(YES)

DEFINE QLOCAL ('P.Q.R') +
	DESCR('') +
	DEFPSIST(${DEFPSIST}) +
	MAXDEPTH(50000) +
	MAXMSGL(4194304) +
	MSGDLVSQ(PRIORITY) +
	REPLACE

DEFINE QLOCAL ('X.Y.Z') +
	DESCR('') +
	DEFPSIST(${DEFPSIST}) +
	MAXDEPTH(500000) +
	MAXMSGL(4194304) +
	MSGDLVSQ(PRIORITY) +
	REPLACE
